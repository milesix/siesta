TBtrans Version: v4.1.5-1-g384057250
Architecture  : x86_64-linux-gcc
Compiler flags: mpifort -m64 -fPIC -O3 -ftree-vectorize -fexpensive-optimizations -funroll-loops -fprefetch-loop-arrays -fgraphite -fipa-icf -fipa-pure-const -march=native -fschedule-fusion -fselective-scheduling -fstack-arrays -fmax-stack-var-size=10000 -fipa-sra -fipa-cp -fcheck=recursion,array-temps -fno-second-underscore -Wrealloc-lhs -Wrealloc-lhs-all -fallow-argument-mismatch
PP flags      : -DSIESTA__FLOOK -DSIESTA__METIS -DSIESTA__FFTW -DTS_PVT_METIS -DSIESTA__MRRR -DSIESTA__SCALAPACK_RESET -DMPI -DFC_HAVE_FLUSH -DFC_HAVE_ABORT -DCDF -DGRID_DP -DMPI_TIMING -DTRANSIESTA_TIMING -DTBTRANS_TIMING -DSIESTA__MUMPS -DNCDF_PARALLEL -DNCDF -DNCDF_4 -DSCALAPACK_DEBUG -D_DIAG_WORK -DSIESTA__DIAG_2STAGE -DSIESTA__ELPA -DTBTRANS
Libraries     : libncdf.a libfdict.a  -lzmumps -lmumps_common -lpord -lparmetis -lmetis -lesmumps -lscotch -lscotcherr -L/opt/gnu/11.2.0/elpa/2020.05.001/lib -Wl,-rpath=/opt/gnu/11.2.0/elpa/2020.05.001/lib -lelpa -L/opt/gnu/11.2.0/scalapack-debug/2.1.0/lib -Wl,-rpath=/opt/gnu/11.2.0/scalapack-debug/2.1.0/lib -lscalapack  -L/opt/gnu/11.2.0/openblas/0.3.18/lib -Wl,-rpath=/opt/gnu/11.2.0/openblas/0.3.18/lib -lopenblas -L/home/nicpa/codes/flook/obj -lflookall -ldl -l:libnetcdff.so  -m64 -fPIC -O3 -ftree-vectorize -fexpensive-optimizations -funroll-loops -fprefetch-loop-arrays -fgraphite -fipa-icf -fipa-pure-const -march=native -fschedule-fusion -fselective-scheduling -fstack-arrays -fmax-stack-var-size=10000 -fipa-sra -fipa-cp -fcheck=recursion,array-temps -fno-second-underscore -Wrealloc-lhs -Wrealloc-lhs-all -fallow-argument-mismatch -L/opt/gnu/11.2.0/fftw/3.3.10/lib -Wl,-rpath=/opt/gnu/11.2.0/fftw/3.3.10/lib -lfftw3
PARALLEL version
NetCDF support
NetCDF-4 support
NetCDF-4 MPI-IO support
METIS ordering support

* Running on 6 nodes in parallel
>> Start of run:   3-NOV-2021  22:26:28

                           ************************ 
                           *  WELCOME TO TBtrans  * 
                           ************************ 

reinit: Reading from ts_au_100_3x3.fdf

reinit: -----------------------------------------------------------------------
reinit: System Name: Au 100 + chain with Bloch expansion
reinit: -----------------------------------------------------------------------
reinit: System Label: ts_au_100_3x3
reinit: -----------------------------------------------------------------------

k-point displ. along   1 input, could be:     0.00    0.50
k-point displ. along   2 input, could be:     0.00    0.50
 Kpoints in:            4 . Kpoints trimmed:            4
tbt: Number of transport k-points = 4
tbt: Method = Monkhorst-Pack grid.
tbt: k-grid: Supercell and displacements
tbt:            2   0   0      0.000
tbt:            0   2   0      0.000
tbt:            0   0   1      0.000


tbt: **************************************************************
tbt: Electronic temperature (reference)             =  299.9869 K
tbt: No applied bias
tbt: Calculate transmission only using diag(Gf)     =    F
tbt: Saving bulk transmission for electrodes        =    F
tbt: Saving DOS from bulk electrodes                =    F
tbt: Saving DOS from Green function                 =    F
tbt: Saving DOS from spectral functions             =    F
tbt: Saving bond currents (orb-orb)                 =    F
tbt: Saving DM from Green function                  =    F
tbt: Saving DM from spectral functions              =    F
tbt: Saving COOP from Green function                =    F
tbt: Saving COOP from spectral functions            =    F
tbt: Saving COHP from Green function                =    F
tbt: Saving COHP from spectral functions            =    F
tbt: Calc. # transmission eigenvalues               =  0
tbt: Calc. T between all electrodes                 =    F
tbt: Calc. total T out of electrodes                =    F
tbt: Non-polarized Hamiltonian
tbt: BTD creation algorithm                         =    speed
tbt: BTD spectral function algorithm                =    propagation
tbt: Divide and conquer diagonalization             =    F
tbt: Assume LAPACK <i|S|j> = delta_ij               =    F
tbt: Saving downfolded self-energies                =    F
tbt: No delta Hamiltonian
tbt: No delta self-energy
tbt: Data files stored in current folder
tbt: No compression of TBT.nc files
tbt: Default NetCDF precision                       =    single
tbt: Use parallel MPI-IO for NetCDF file            =    F
tbt:           >> Electrodes << 
tbt: >> Left
tbt:   Electrode cell pivoting: E1, E2, E3          = A1, A2, A3
tbt:   In-core self-energy calculation
tbt:   Electrode TSHS file                          = ./ts_au_100_elec_1x1.TSHS
tbt:   # atoms used in electrode                    =    4
tbt:   Electrode Bloch repeating [E1 x E2 x E3]     = 3 x 3 x 1
tbt:   Position in geometry                         = 1 -- 36
tbt:   Semi-infinite direction for electrode        = negative wrt. E3
tbt:   Chemical shift                               =    0.000000 eV
tbt:   Electronic temperature                       =  299.986869 K
tbt:   Gamma-only electrode                         =    F
tbt:   Bulk H, S in electrode region                =    T
tbt:   Manual delta-Ef shift                        =    0.000000 eV
tbt:   Electrode self-energy imaginary Eta          =  0.1000E-02 eV
tbt:   Electrode self-energy accuracy               =  0.1000E-12 eV
tbt:   Electrode inter-layer distance (semi-inf)    =    2.0391 Ang
tbt: >> Right
tbt:   Electrode cell pivoting: E1, E2, E3          = A1, A2, A3
tbt:   In-core self-energy calculation
tbt:   Electrode TSHS file                          = ./ts_au_100_elec_1x1.TSHS
tbt:   # atoms used in electrode                    =    4
tbt:   Electrode Bloch repeating [E1 x E2 x E3]     = 3 x 3 x 1
tbt:   Position in geometry                         = 77 -- 112
tbt:   Semi-infinite direction for electrode        = positive wrt. E3
tbt:   Chemical shift                               =    0.000000 eV
tbt:   Electronic temperature                       =  299.986869 K
tbt:   Gamma-only electrode                         =    F
tbt:   Bulk H, S in electrode region                =    T
tbt:   Manual delta-Ef shift                        =    0.000000 eV
tbt:   Electrode self-energy imaginary Eta          =  0.1000E-02 eV
tbt:   Electrode self-energy accuracy               =  0.1000E-12 eV
tbt:   Electrode inter-layer distance (semi-inf)    =    2.0391 Ang
ts:              >> TBtrans contour << 
ts: Device Green function imaginary Eta             = 0.1000E-03 eV
ts: Contour name                                    =    TBT.Contour.line
ts:   line contour E_min                            =   -2.0000 eV
ts:   line contour E_max                            =    2.0000 eV
ts:   line contour points                           =  400
ts:   line contour method                           =    Mid-rule
tbt: **************************************************************

tbt: <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
%block TBT.Contours
    line
%endblock TBT.Contours

%block TBT.Contour.line
  part line
     from -2. eV to 2. eV
      delta 0.01 eV
        method mid-rule
%endblock TBT.Contour.line
tbt: <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

************************ Begin: TBT CHECKS AND WARNINGS ************************
Electrode Left is using Bloch unfolding using the repeat scheme! Please use the tiling scheme (it is orders of magnitudes faster!).
Electrode Right is using Bloch unfolding using the repeat scheme! Please use the tiling scheme (it is orders of magnitudes faster!).
 ** Speed up the execution by utilizing parallel I/O
  > TBT.CDF.MPI true
************************ End: TBT CHECKS AND WARNINGS **************************

Device information (full):
  <sparsity:ts_au_100_3x3.TSHS
    nrows_g=1008 nrows=1008 sparsity=1.4229 nnzs=1445744, refcount: 3>

Electrode information:

  <sparsity:./ts_au_100_elec_1x1.TSHS
    nrows_g=36 nrows=36 sparsity=46.6327 nnzs=60436, refcount: 3>
  <sparsity:(TM [--,--, 0] of: ./ts_au_100_elec_1x1.TSHS)
    nrows_g=36 nrows=36 sparsity=26.8025 nnzs=34736, refcount: 3>
  <sparsity:(TM [--,--,-1] of: ./ts_au_100_elec_1x1.TSHS)
    nrows_g=36 nrows=36 sparsity=9.9151 nnzs=12850, refcount: 3>
 Left principal cell is perfect!

  <sparsity:./ts_au_100_elec_1x1.TSHS
    nrows_g=36 nrows=36 sparsity=46.6327 nnzs=60436, refcount: 3>
  <sparsity:(TM [--,--, 0] of: ./ts_au_100_elec_1x1.TSHS)
    nrows_g=36 nrows=36 sparsity=26.8025 nnzs=34736, refcount: 3>
  <sparsity:(TM [--,--, 1] of: ./ts_au_100_elec_1x1.TSHS)
    nrows_g=36 nrows=36 sparsity=9.9151 nnzs=12850, refcount: 3>
 Right principal cell is perfect!


tbt: Analyzing electrode sparsity pattern and electrode pivot-tables
tbt: BTD pivoting scheme for electrode (Left): atom+Left

tbt: Analyzing device sparsity pattern and pivot-table
tbt: BTD pivoting scheme in device: atom+Left
tbt: Done analyzing electrode and device sparsity pattern and pivot-tables

tbt: Reducing matrix (H, S) sparsity patterns by: 231300

tbt: # of device region orbitals: 360
Region (40): [A]-device
  [ 37 -- 76 ]

tbt: # of Left downfolding orbitals: 504
tbt: # of Left device orbitals: 180
Region (36): [A]-Left folding region
  [ 1 -- 36 ]
Region (20): [A]-Left folding in D
  [ 37 -- 56 ]

tbt: # of Right downfolding orbitals: 504
tbt: # of Right device orbitals: 180
Region (36): [A]-Right folding region
  [ 77 -- 112 ]
Region (20): [A]-Right folding in D
  [ 57 -- 76 ]

tbt: Creating electrode tri-diagonal matrix blocks
tbt: Creating device tri-diagonal matrix blocks
Region (2): [TRI] device region
  [ [180] * 2 ]
tbt: Matrix elements in BTD: 129600

tbt: Electrodes tri-diagonal matrices
Region (2): [TRI] Left
  [ 324, 180 ]
Region (2): [TRI] Right
  [ 324, 180 ]

tbt: Electrode memory:    2.814 MB
tbt: Sparse H, S and auxiliary matrices memory:   31.296 MB
tbt: Sum of electrode and sparse memory:   34.110 MB

tbt: Initializing data file: ts_au_100_3x3.TBT.nc
tbt: Estimated file size of ts_au_100_3x3.TBT.nc:  21.102 KB

tbt: LHS Green function padding / memory: 229392 /    5.478 MB
tbt: RHS Green function padding / memory: 80352 /    3.204 MB
tbt: Initial ETA in               37.199 s
tbt: Calculated   5.250 %, ETA in               28.766 s
tbt: Calculated  10.500 %, ETA in               26.965 s
tbt: Calculated  15.750 %, ETA in               25.352 s
tbt: Calculated  21.000 %, ETA in               23.688 s
tbt: Calculated  26.125 %, ETA in               22.163 s
tbt: Calculated  31.375 %, ETA in               20.307 s
tbt: Calculated  36.625 %, ETA in               18.599 s
tbt: Calculated  41.875 %, ETA in               16.965 s
tbt: Calculated  47.125 %, ETA in               15.421 s
tbt: Calculated  52.250 %, ETA in               13.951 s
tbt: Calculated  57.500 %, ETA in               12.357 s
tbt: Calculated  62.750 %, ETA in               10.800 s
tbt: Calculated  68.000 %, ETA in                9.263 s
tbt: Calculated  73.250 %, ETA in                7.749 s
tbt: Calculated  78.375 %, ETA in                6.256 s
tbt: Calculated  83.625 %, ETA in                4.708 s
tbt: Calculated  88.875 %, ETA in                3.189 s
tbt: Calculated  94.125 %, ETA in                1.685 s
tbt: Calculated  99.375 %, ETA in                0.179 s
tbt: Completed in               28.664 s

Currents (ensure entire Fermi function window):
Left -> Right, V [V] / I [A]:  0.00000     V /  0.00000     A
Left -> Right, V [V] / P [W]:  0.00000     V /  0.00000     W


             Section          Calls    Walltime       %
 global_section                   1      29.829  100.00
  tbtrans                         1      29.829  100.00
   MPI_COMM_RANK                  1       0.000    0.00
   MPI_COMM_SIZE                  1       0.000    0.00
   MPI_BCAST                     83       0.024    0.08
   MPI_BARRIER                    3       0.002    0.01
   init-region+sp                 1       0.093    0.31
   pivot-elec                     1       0.014    0.05
    pivot                         1       0.005    0.02
    MPI_BCAST                    24       0.000    0.00
   pivot-device                   1       0.006    0.02
    pivot                         1       0.005    0.02
   tri-init                       1       0.059    0.20
    tri-init-elec                 1       0.002    0.01
     TS-rgn2tri                   1       0.001    0.00
     MPI_BCAST                    6       0.000    0.00
    TS-rgn2tri                    1       0.012    0.04
     MPI_BCAST                   12       0.012    0.04
   TBT                            1      28.758   96.41
    MPI_BCAST                    39       0.002    0.01
    MPI_BARRIER                   3       0.000    0.00
    setup-HS                      4       0.129    0.43
    MPI_ALLGATHER               536       0.005    0.02
    read-GS                     268      10.326   34.62
    SE-dwn                      268      10.700   35.87
     ts_expand                  528       1.377    4.62
    Gf-prep                     268       3.978   13.34
     V_TM_Pinv                  264       2.694    9.03
    analysis                    268       3.537   11.86
     dGFGGF                     264       1.922    6.44
     A-Gamma                    264       0.013    0.04
     cdf-w-DOS-T                268       1.600    5.37
      MPI_RECV                 1340       1.544    5.18
    cdf2ascii                     1       0.007    0.02
>> End of run:   3-NOV-2021  22:26:58
